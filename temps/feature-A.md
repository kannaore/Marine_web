# Feature A: 헤더 타이포/모션 개선 계획

## 목적
- 헤더 타이포 가독성 개선(영문 확대 + 자간 확장, 한글은 더 크게)
- 커튼(드롭다운) 오픈/클로즈 타이밍을 헤더와 정확히 동기화
- 카테고리 텍스트의 블러-로딩 후 깜빡임(플리커) 제거
- 드롭다운 배경 레이어 여백 축소 + 높이 변경 애니메이션 완화

## 문제 요약
1. 네비 폰트가 작다. 영문은 조금 넓게, 한글은 더 크게 느껴지도록 확대 필요.
2. 커튼 애니메이션이 헤더와 맞지 않고, 느리게 홀로 열렸다 닫히는 느낌.
3. 헤더 열 때 ABOUT US 아래 텍스트가 블러 상태로 보이다가 한 번 깜빡이며 전환됨.
4. 탭 변경(카테고리 수 증가/감소) 시 배경 레이어 높이 애니메이션이 너무 빠르고 튀는 느낌.

## 작업 범위
- `marine-web-app/src/components/layout/Header.tsx`
- `marine-web-app/src/components/layout/MorphingDesktopNav.tsx`
- (필요 시) `marine-web-app/src/app/globals.css` 커스텀 유틸 추가

## 단계식 작업
1. 현행 값 파악 및 기준선 정리
   - 헤더 높이/오프셋, 드롭다운 높이 계산 로직, 현재 타이포 사이즈/트래킹 기록.
   - 기준 파일: `marine-web-app/src/components/layout/Header.tsx`, `marine-web-app/src/components/layout/MorphingDesktopNav.tsx`.

2. 타이포 스케일 조정(언어별)
   - 네비 탭(상단) 텍스트를 `isKorean` 기준으로 분기.
     - 영문: 폰트 1단계 확대 + 트래킹 소폭 증가(“늘림” 느낌).
     - 한글: 영문보다 1단계 더 크게, 트래킹은 최소화.
   - 드롭다운 내 카테고리 버튼/섹션 라벨도 동일한 스케일 규칙 적용.
   - 필요 시 `globals.css`에 재사용 가능한 헤더 타이포 유틸 클래스 추가.

3. 커튼(드롭다운) 애니메이션 정합
   - 헤더 기준 오프셋을 계산해 드롭다운 시작 위치를 헤더 하단에 맞춤.
     - `Header.tsx`에서 `headerRef`로 높이를 측정해 CSS 변수(`--header-offset`)로 전달.
     - 드롭다운 래퍼에 `top: var(--header-offset)` 적용.
   - GSAP 타임라인으로 열림/닫힘을 하나로 묶어 동기화.
     - `useGSAP()` 기반으로 open/close 타이밍과 ease를 일관되게.
     - 헤더 배경/드롭다운/디머가 동시에 시작/종료되도록 시간 정렬.

4. 카테고리 텍스트 플리커 제거(블러-로딩 후 깜빡임)
   - 블러 진입 애니메이션은 첫 오픈에만 1회 실행하도록 고정.
   - `filter: blur()`와 `opacity` 초기값을 `gsap.set()`으로 한 번만 적용하고,
     탭/카테고리 변경 시 재적용되지 않도록 `overwrite: "auto"` 또는 `immediateRender: false` 처리.
   - 카테고리 영역을 언마운트하지 않고 유지하여 리렌더로 인한 깜빡임 방지.
   - 텍스트 컨테이너에 `will-change: opacity, transform` 적용으로 렌더링 안정화.

5. 배경 레이어 여백 축소 + 높이 전환 자연화
   - 고정 높이 계산(`getMenuHeight`) 대신 실제 콘텐츠 높이 측정 기반으로 조정.
   - 상/하 패딩(`py-10`)을 한 단계 축소하고, 최소 높이도 하향 조정.
   - 탭 전환 시 높이 애니메이션은 `gsap.to`로 단일 트윈 관리,
     기존 트윈 `kill` 후 새 트윈만 실행하여 "통통" 튐 방지.
   - 전환 시간은 0.35~0.45s로 완화하고 `power2.out` 계열로 부드럽게.

6. QA 및 체감 확인
   - 데스크탑에서 hover 진입/이탈 반복 테스트.
   - ko/en 전환 시 크기/자간 체감 확인.
   - 플리커 없는지, 여백이 과하지 않은지 비교 체크.

## 수용 기준(컨펌용)
- 한글/영문 모두 가독성이 개선되고, 한글이 더 크게 인지됨.
- 커튼 애니메이션이 헤더 하단과 정렬되어 자연스럽게 열리고 닫힘.
- 카테고리 전환 시 이미지/텍스트 플리커가 보이지 않음.
- 드롭다운 배경 여백이 카테고리 높이에 맞게 축소됨.

## 확인 필요(결정 포인트)
- 한글/영문 정확한 폰트 크기 기준(예: 상단 탭 12/13px vs 12/14px).
- 오픈/클로즈 타이밍 목표(예: 0.3s/0.25s or 0.35s/0.3s).
